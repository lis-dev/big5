(this.webpackJsonpbig5=this.webpackJsonpbig5||[]).push([[0],{22:function(t,e,n){},23:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var s=n(1),r=n.n(s),c=n(16),a=n.n(c),i=(n(22),n(7)),o=(n(23),n(2)),u=n(5),l=n(11),h=n(9),d=n(8),j=n(0);function f(){return Object(j.jsx)("div",{className:"spinner text-primary mx-auto flex p-5 m-5",role:"status",children:Object(j.jsx)("span",{className:"sr-only",children:"Loading..."})})}function m(t){return Object(j.jsx)("button",{className:"w-full md:w-auto btn btn-light",onClick:function(e){t.onClick(t.choice)},children:t.choice.text})}function b(t){var e=t.choices.map((function(e,n){return Object(j.jsx)(m,{choice:e,onClick:t.onAnswer},e.score+"_"+n)}));return Object(j.jsx)("div",{className:"h-full",children:Object(j.jsx)("div",{className:"grid place-items-center md:p-10 md:w-2/3 m-auto",children:Object(j.jsx)("div",{className:"rounded-xl transform shadow-lg bg-gradient-to-r from-purple-500 to-indigo-300 -rotate-1 sm:-rotate-2 p-2",children:Object(j.jsxs)("div",{className:" card  rounded-xl sm:rounded-xl overflow-hidden flex p-8 transform rotate-1 sm:rotate-2",children:[Object(j.jsxs)("div",{className:"grid grid-cols-12",children:[Object(j.jsx)("div",{className:"col-span-10 pb-10 text-2xl text-center",children:Object(j.jsx)("div",{className:"card-body",children:t.question.text})}),Object(j.jsxs)("div",{className:"col-span-2 text-2xl text-right",children:[Object(j.jsxs)("span",{className:"whitespace-nowrap",children:["# ",t.number]}),Object(j.jsx)("br",{}),t.totalNumber?Object(j.jsxs)("sup",{className:"text-sm whitespace-nowrap",children:[" ","of ",t.totalNumber]}):""]})]}),Object(j.jsx)("div",{className:"justify-end card-footer flex-col md:flex-row",children:e})]})})})})}var x=["N","E","A","C","O"],p=function t(e,n,s){Object(o.a)(this,t),this.domain=e,this.facet=n,this.score=s},v=function t(e,n,s){Object(o.a)(this,t),this.score=e,this.count=n,this.result=s},O=function t(e,n){Object(o.a)(this,t),this.title=e,this.html=n},g=n(4),y=n.n(g),w=n(6);var N=function(){var t=Object(w.a)(y.a.mark((function t(e,n,s){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://lis-dev.github.io/big5-data"+"/data/".concat(e,"/").concat(s,"/")+n);case 2:return t.abrupt("return",t.sent.json());case 3:case"end":return t.stop()}}),t)})));return function(e,n,s){return t.apply(this,arguments)}}(),k=n(17),T=n(3),Q=function(){function t(e){Object(o.a)(this,t),this.calculationFunction=e}return Object(u.a)(t,[{key:"calculate",value:function(t){var e,n=this.initDomainResult(),s=Object(T.a)(t);try{for(s.s();!(e=s.n()).done;){var r=e.value,c=n[r.domain];c.score+=r.score,c.count++,c.result=this.calculationFunction(c.score,c.count),this.calculateFacet(c,r)}}catch(a){s.e(a)}finally{s.f()}return n}},{key:"calculateFacet",value:function(t,e){var n=t.facets;"undefined"===typeof n[e.facet]&&(n[e.facet]=new v(0,0,"neutral"));var s=n[e.facet];s.count++,s.score+=e.score,s.result=this.calculationFunction(s.score,s.count)}},{key:"initDomainResult",value:function(){var t,e={},n=Object(T.a)(x);try{for(n.s();!(t=n.n()).done;){e[t.value]={score:0,count:0,result:"neutral",facets:[]}}}catch(s){n.e(s)}finally{n.f()}return e}}]),t}(),C=function(t,e){var n=t/e,s="neutral";return n>3?s="high":n<3&&(s="low"),s},A=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).resultCalculator=void 0,s.state={answers:[],result:{},resultTexts:[],lang:"en"},s.resultCalculator=new Q(C),s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t,e=this;(t=this.props.lang,N("result","index.json",t)).then((function(t){return e.setState({resultTexts:t})}))}},{key:"resultToTextResult",value:function(t){var e,n=[],s=Object(T.a)(this.state.resultTexts);try{var r=function(){var s=e.value,r=s.results.find((function(e){return e.score===t[s.domain].result})),c=s.facets.map((function(e){return Object(k.a)({result:t[s.domain].facets[e.facet]?t[s.domain].facets[e.facet].result:"neutral"},e)}));n.push({domain:s.domain,title:s.title,shortDescription:s.shortDescription,description:s.description,resultText:r.text,facets:c})};for(s.s();!(e=s.n()).done;)r()}catch(c){s.e(c)}finally{s.f()}return n}},{key:"render",value:function(){if(!this.state.resultTexts)return Object(j.jsx)(f,{});var t=this.resultCalculator.calculate(this.props.answers);return(t?this.resultToTextResult(t):[]).map((function(t,e){return Object(j.jsxs)("div",{className:"card md:w-2/3 mx-auto rounded-r-xl sm:rounded-xl overflow-hidden flex p-8 mb-8",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("div",{className:"font-semibold text-gray-900",children:t.title})}),Object(j.jsx)("div",{className:"card-body",children:t.description}),Object(j.jsx)("div",{className:"card-body",children:t.resultText}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("table",{className:"table-auto border-separate",children:Object(j.jsx)("tbody",{children:t.facets.map((function(t,e){return Object(j.jsxs)("tr",{className:"border-separate border",children:[Object(j.jsx)("td",{className:"p-2",children:t.title}),Object(j.jsx)("td",{className:"p-2",children:t.result}),Object(j.jsx)("td",{className:"p-2",children:t.text})]},"facet"+e)}))})})})]},t.domain)}))}}]),n}(s.Component),D=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var s;return Object(o.a)(this,n),(s=e.call(this,t)).state={questions:[],currentQuestion:null,currentQuestionNumber:0,choices:null,answers:[],lang:"en"},s.onAnswer=s.onAnswer.bind(Object(l.a)(s)),s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.initQuestionsAndAnswers(this.props.lang)}},{key:"componentDidUpdate",value:function(){this.state.lang!==this.props.lang&&(this.setState({lang:this.props.lang}),this.initQuestionsAndAnswers(this.props.lang))}},{key:"onAnswer",value:function(t){this.setState((function(e,n){return{currentQuestionNumber:e.currentQuestionNumber+1,currentQuestion:e.questions[e.currentQuestionNumber+1],answers:e.answers.concat([new p(e.currentQuestion.domain,e.currentQuestion.facet,t.score)])}}))}},{key:"render",value:function(){if(this.state.currentQuestionNumber&&this.state.questions.length&&this.state.currentQuestionNumber>=this.state.questions.length)return Object(j.jsx)(A,{answers:this.state.answers,lang:this.props.lang},this.props.lang);if(!this.state.choices||!this.state.questions.length||!this.state.currentQuestion)return Object(j.jsx)(f,{});var t=this.state.choices[this.state.currentQuestion.keyed];return Object(j.jsx)(b,{question:this.state.currentQuestion,choices:t,onAnswer:this.onAnswer,number:this.state.currentQuestionNumber+1,totalNumber:this.state.questions.length})}},{key:"initQuestionsAndAnswers",value:function(t){var e=this;(function(t){return N("test","questions.json",t)})(t).then((function(t){return e.setState((function(e,n){return{questions:t,currentQuestion:t[e.currentQuestionNumber]}}))})),function(t){return N("test","choices.json",t)}(t).then((function(t){return e.setState({choices:t})}))}}]),n}(s.Component),F={lang:"en",page:void 0},S=Object(i.proxy)(F);function q(t){var e=t.page;return Object(j.jsxs)("div",{className:"px-4 py-12 mx-auto max-w-7xl card page",children:[Object(j.jsx)("h1",{className:"text-4xl text-center pb-10 font-bold",children:e.title}),Object(j.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:e.html}})]})}var E=function(t){var e=Object(i.useSnapshot)(S);return e.page?Object(j.jsx)(q,{page:e.page}):Object(j.jsx)(D,{lang:e.lang})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(e){var n=e.getCLS,s=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),s(t),r(t),c(t),a(t)}))},L={en:"English",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"};function M(){var t=Object(i.useSnapshot)(S);return Object(j.jsx)("select",{className:"form-select mx-auto",value:t.lang,onChange:function(t){return S.lang=t.target.value},children:Object.keys(L).map((function(t){return Object(j.jsx)("option",{value:t,children:L[t]},t)}))})}var R=n.p+"static/media/logo.c41a7299.svg";function _(t){return B.apply(this,arguments)}function B(){return(B=Object(w.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e.replace("https://telegra.ph/","https://api.telegra.ph/getPage/"),t.next=3,fetch(e+"?return_content=true");case 3:return t.next=5,t.sent.json();case 5:return n=t.sent,t.abrupt("return",new O(n.result.title,H({tag:"div",children:n.result.content})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t){var e=document.createElement(t.tag,t.attrs);if(t.children&&t.children.length>0){var n,s=[],r=Object(T.a)(t.children);try{for(r.s();!(n=r.n()).done;){var c=n.value;s.push("string"===typeof c?c:H(c))}}catch(a){r.e(a)}finally{r.f()}e.innerHTML=s.join("\n")}return e.outerHTML}var I=[{title:"Terms",url:"https://telegra.ph/Terms-and-Conditions-11-23"},{title:"Privacy",url:"https://telegra.ph/Privacy-Policy-11-23-13"}];function J(){return Object(j.jsx)("footer",{className:"px-4 py-12 mx-auto max-w-7xl",children:Object(j.jsxs)("div",{className:"flex flex-col items-start justify-between pt-10 mt-10 border-t border-gray-100 md:flex-row md:items-center",children:[Object(j.jsxs)("p",{className:"mb-6 text-sm text-left text-gray-600 md:mb-0",children:["\xa9 Copyright ",(new Date).getFullYear()," ",Object(j.jsx)("a",{href:"https://github.com/lis-dev",children:"lis-dev"})]}),Object(j.jsx)("div",{className:"flex items-start justify-start space-x-6 md:items-center md:justify-center",children:I.map((function(t){return Object(j.jsx)("a",{onClick:function(t){!function(t){z.apply(this,arguments)}(t)},href:t.url,className:"text-sm text-gray-600 transition hover:text-primary",children:t.title},t.title)}))})]})})}function z(){return(z=Object(w.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=e.target.getAttribute("href"),t.next=4,_(n);case 4:S.page=t.sent;case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t){return Object(j.jsxs)("section",{className:"min-h-screen bg-gray-50",children:[Object(j.jsx)("header",{className:"sticky top-0 bg-white shadow z-10",children:Object(j.jsxs)("div",{className:"flex justify-between p-4 mx-auto max-w-7xl",children:[Object(j.jsxs)("a",{href:"/",className:"flex items-center text-2xl items-center min-w-100 space-x-4 text-purple-900",children:[Object(j.jsx)("img",{src:R,alt:"logo",className:"w-12 h-12"}),Object(j.jsx)("span",{className:"hidden md:inline",children:"The Big Five Personality Test"})]}),Object(j.jsx)("div",{className:"flex flex-row",children:Object(j.jsx)(M,{})})]})}),Object(j.jsx)("main",{className:"p-4 mx-auto max-w-7xl",children:t.children}),Object(j.jsx)(J,{})]})}var Y=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).state={hasError:!1},t}return Object(u.a)(n,[{key:"componentDidCatch",value:function(t,e){!function(t,e){console.error(t,e)}(t,e)}},{key:"render",value:function(){return this.state.hasError?Object(j.jsx)("h1",{className:"text-center text-bold text-4xl card p-10",children:"Something went wrong. Try to reload this page."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),n}(r.a.Component);a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(U,{children:Object(j.jsx)(Y,{children:Object(j.jsx)(E,{})})})}),document.getElementById("root")),P()}},[[27,1,2]]]);
//# sourceMappingURL=main.420592e7.chunk.js.map