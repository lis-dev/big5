{"version":3,"sources":["components/Loading.tsx","components/ChoiceButton.tsx","components/QuestionCard.tsx","types.ts","api/Api.tsx","b5/ResultCalculator.tsx","b5/CalculationFunction.ts","components/QuizResult.tsx","components/Quiz.tsx","state.ts","components/Page.tsx","App.tsx","reportWebVitals.ts","languages.ts","components/SelectLanguage.tsx","logo.svg","api/ApiPages.tsx","components/Footer.tsx","components/Base.tsx","components/ErrorBoundary.tsx","index.tsx"],"names":["Loading","className","role","ChoiceButton","props","onClick","e","choice","text","QuestionCard","choices","map","i","onAnswer","score","question","number","totalNumber","domains","Answer","domain","facet","ResultObject","count","result","Page","title","html","getData","dir","filename","lang","a","fetch","process","json","ResultCalculator","calculationFunction","answers","domainResult","this","initDomainResult","answer","calculateFacet","facets","average","QuizResult","resultCalculator","state","resultTexts","then","res","setState","resultTextItem","textData","domainResultText","results","find","el","push","shortDescription","description","resultText","calculate","resultToTextResult","data","Component","Quiz","questions","currentQuestion","currentQuestionNumber","bind","initQuestionsAndAnswers","concat","length","currentChoices","keyed","getQuestions","getChoices","stateObject","page","undefined","proxy","dangerouslySetInnerHTML","__html","App","snap","useSnapshot","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","languages","en","ru","uk","SelectLanguage","value","onChange","target","Object","keys","code","getTelegraphPage","url","replace","pageResponse","pageContentToString","tag","children","content","pageContent","doc","document","createElement","attrs","contentParst","child","innerHTML","join","outerHTML","termPages","Footer","Date","getFullYear","href","link","goToPage","preventDefault","getAttribute","Base","src","logo","alt","ErrorBoundary","hasError","error","errorInfo","console","logErrorToMyService","React","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.420592e7.chunk.js","sourcesContent":["export function Loading() {\n  return (\n    <div className='spinner text-primary mx-auto flex p-5 m-5' role='status'>\n      <span className='sr-only'>Loading...</span>\n    </div>\n  );\n}\n","import { Choice } from '../types';\n\ninterface Props {\n  choice: Choice;\n  onClick: (choice: Choice) => void;\n}\n\nexport function ChoiceButton(props: Props) {\n  return (\n    <button className='w-full md:w-auto btn btn-light' onClick={(e) => {props.onClick(props.choice)}}>\n      {props.choice.text}\n    </button>\n  );\n}\n","import { Choice, Question } from '../types'\nimport { ChoiceButton } from './ChoiceButton'\n\ninterface Props {\n  question: Question\n  choices: Choice[]\n  number: number\n  totalNumber?: number\n  onAnswer: (c: Choice) => void\n}\n\nexport function QuestionCard(props: Props) {\n  let choices = props.choices.map((choice, i) => (\n    <ChoiceButton\n      key={choice.score + '_' + i}\n      choice={choice}\n      onClick={props.onAnswer}\n    />\n  ))\n  return (\n    <div className=\"h-full\">\n      <div className=\"grid place-items-center md:p-10 md:w-2/3 m-auto\">\n        <div className=\"rounded-xl transform shadow-lg bg-gradient-to-r from-purple-500 to-indigo-300 -rotate-1 sm:-rotate-2 p-2\">\n          <div className=\" card  rounded-xl sm:rounded-xl overflow-hidden flex p-8 transform rotate-1 sm:rotate-2\">\n            <div className=\"grid grid-cols-12\">\n              <div className=\"col-span-10 pb-10 text-2xl text-center\">\n                <div className=\"card-body\">{props.question.text}</div>\n              </div>\n              <div className=\"col-span-2 text-2xl text-right\">\n                <span className=\"whitespace-nowrap\"># {props.number}</span>\n                <br />\n                {props.totalNumber ? (\n                  <sup className=\"text-sm whitespace-nowrap\">\n                    {' '}\n                    of {props.totalNumber}\n                  </sup>\n                ) : (\n                  ''\n                )}\n              </div>\n            </div>\n            <div className=\"justify-end card-footer flex-col md:flex-row\">\n              {choices}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export const domains = ['N', 'E', 'A', 'C', 'O']\n\nexport type Domain = typeof domains[number]\n\nexport type Result = 'low' | 'neutral' | 'high'\n\nexport type Question = {\n  text: string\n  keyed: 'plus' | 'minus'\n  domain: Domain\n  facet: number\n}\n\nexport type Choices = {\n  plus: Choice[]\n  minus: Choice[]\n}\n\nexport type Choice = {\n  text: string\n  score: number\n}\n\nexport type ScoreResult = {\n  score: Result\n  text: string\n}\n\ntype Facet = {\n  facet: number\n  title: string\n  text: string\n}\n\nexport type FacetResult = Facet & {\n  result: Result\n}\n\n// Bunch of texts from json file\nexport type ResultText = {\n  domain: Domain\n  title: string\n  shortDescription: string\n  description: string\n  results: ScoreResult[]\n  facets: Facet[]\n}\n\n// Result of quiz\nexport type ResultTextItem = {\n  domain: Domain\n  title: string\n  shortDescription: string\n  description: string\n  resultText: string\n  facets: FacetResult[]\n}\n\nexport class Answer {\n  constructor(\n    public domain: Domain,\n    public facet: number,\n    public score: number\n  ) {}\n}\n\nexport type DomainFacetResult = {\n  [k: number]: ResultObject\n}\n\nexport type DomainResult = Record<Domain, DomainResultObject>\n\nexport type DomainResultObject = ResultObject & {\n  facets: DomainFacetResult\n}\n\nexport class ResultObject {\n  constructor(\n    public score: number,\n    public count: number,\n    public result: Result\n  ) {}\n}\n\n// TODO Move to another types file (pages)\nexport type PageLinks = {\n  title: string\n  url: string\n}\n\nexport class Page {\n  constructor(public title: string, public html: string) {}\n}\n\n// TODO Move to another types file (telegraph-response)\nexport type TelegraphApiNodeElement = {\n  tag: string\n  attrs?: { [k: string]: string }\n  children: (TelegraphApiNodeElement | string)[]\n}\n\nexport type TelegraphApiPageResponse = {\n  ok: 'true' | 'false'\n  result: {\n    author_name: string\n    content: TelegraphApiNodeElement[]\n    description: string\n    path: string\n    title: string\n    url: string\n    views: number\n  }\n}\n","// TODO Use transport\nimport { Choices, Question, ResultText } from '../types'\n\nconst server = process.env.REACT_APP_QUIZ_SERVER_URL || process.env.PUBLIC_URL\n\nexport function getQuestions(lang: string): Promise<Question[]> {\n  return getData('test', 'questions.json', lang)\n}\n\nexport function getChoices(lang: string): Promise<Choices> {\n  return getData('test', 'choices.json', lang)\n}\n\nexport function getResultTexts(lang: string): Promise<ResultText[]> {\n  return getData('result', 'index.json', lang)\n}\n\nconst getData = async (\n  dir: 'test' | 'result',\n  filename: string,\n  lang: string\n) => {\n  return (await fetch(server + `/data/${dir}/${lang}/` + filename)).json()\n}\n","import {\n  Answer,\n  DomainResult,\n  Result,\n  ResultObject,\n  domains,\n  DomainResultObject,\n} from '../types';\n\nexport class ResultCalculator {\n  constructor(private calculationFunction: (s: number, c: number) => Result) {}\n\n  calculate(answers: Answer[]): DomainResult {\n    let domainResult: DomainResult = this.initDomainResult();\n\n    for (let answer of answers) {\n      const result = domainResult[answer.domain];\n      result.score += answer.score;\n      result.count++;\n      result.result = this.calculationFunction(result.score, result.count);\n      this.calculateFacet(result, answer);\n    }\n    return domainResult;\n  }\n\n  private calculateFacet(result: DomainResultObject, answer: Answer): void {\n    const facets = result.facets;\n    if (typeof facets[answer.facet] === 'undefined') {\n      facets[answer.facet] = new ResultObject(0, 0, 'neutral');\n    }\n    const facet = facets[answer.facet];\n    facet.count++;\n    facet.score += answer.score;\n    facet.result = this.calculationFunction(facet.score, facet.count);\n  }\n\n  private initDomainResult(): DomainResult {\n    let domainResult: Partial<DomainResult> = {};\n    for (let domain of domains) {\n      domainResult[domain] = {\n        score: 0,\n        count: 0,\n        result: 'neutral',\n        facets: [],\n      };\n    }\n    return domainResult as DomainResult;\n  }\n}\n","import { Result } from '../types';\n\nexport const calculationFunction = (score: number, count: number): Result => {\n  const average = score / count;\n  let result: Result = 'neutral';\n  if (average > 3) {\n    result = 'high';\n  } else if (average < 3) {\n    result = 'low';\n  }\n  return result;\n};\n","import { Component } from 'react'\nimport { Loading } from './Loading'\nimport {\n  Answer,\n  DomainResult,\n  FacetResult,\n  ResultText,\n  ResultTextItem,\n} from '../types'\nimport { getResultTexts } from '../api/Api'\n\nimport { ResultCalculator } from '../b5/ResultCalculator'\nimport { calculationFunction } from '../b5/CalculationFunction'\n\ntype Props = { lang: string; answers: Answer[] }\n\ntype State = {\n  answers: Answer[]\n  resultTexts: ResultText[]\n  result: DomainResult\n  lang: string\n}\n\nexport class QuizResult extends Component<Props, State> {\n  private resultCalculator: ResultCalculator\n\n  state: State = {\n    answers: [],\n    result: {},\n    resultTexts: [],\n    lang: 'en',\n  }\n\n  constructor(props: Props) {\n    super(props)\n    this.resultCalculator = new ResultCalculator(calculationFunction)\n  }\n\n  componentDidMount() {\n    getResultTexts(this.props.lang).then((res) => {\n      return this.setState({ resultTexts: res })\n    })\n  }\n\n  // TODO Move from here\n  private resultToTextResult(result: DomainResult): ResultTextItem[] {\n    let resultTextItem: ResultTextItem[] = []\n\n    for (const textData of this.state.resultTexts) {\n      let domainResultText = textData.results.find(\n        (el) => el.score === result[textData.domain].result\n      )\n      let facets: FacetResult[] = textData.facets.map((el) => ({\n        result: result[textData.domain].facets[el.facet]\n          ? result[textData.domain].facets[el.facet].result\n          : 'neutral',\n        ...el,\n      }))\n\n      resultTextItem.push({\n        domain: textData.domain,\n        title: textData.title,\n        shortDescription: textData.shortDescription,\n        description: textData.description,\n        resultText: domainResultText!.text,\n        facets,\n      })\n    }\n    return resultTextItem\n  }\n\n  render() {\n    if (!this.state.resultTexts) {\n      return <Loading></Loading>\n    }\n\n    let result: DomainResult = this.resultCalculator.calculate(\n      this.props.answers\n    )\n\n    let resultText: ResultTextItem[] = result\n      ? this.resultToTextResult(result)\n      : []\n\n    return resultText.map((data, i) => {\n      return (\n        <div\n          key={data.domain}\n          className=\"card md:w-2/3 mx-auto rounded-r-xl sm:rounded-xl overflow-hidden flex p-8 mb-8\"\n        >\n          <div className=\"card-header\">\n            <div className=\"font-semibold text-gray-900\">{data.title}</div>\n          </div>\n          <div className=\"card-body\">{data.description}</div>\n          <div className=\"card-body\">{data.resultText}</div>\n          <div className=\"card-body\">\n            <table className=\"table-auto border-separate\">\n              <tbody>\n                {data.facets.map((facet, i) => (\n                  <tr key={'facet' + i} className=\"border-separate border\">\n                    <td className=\"p-2\">{facet.title}</td>\n                    <td className=\"p-2\">{facet.result}</td>\n                    <td className=\"p-2\">{facet.text}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )\n    })\n  }\n}\n","import { Component } from 'react'\nimport { Loading } from './Loading'\nimport { QuestionCard } from './QuestionCard'\nimport { Answer, Choice, Choices, Question } from '../types'\nimport { getChoices, getQuestions } from '../api/Api'\nimport { QuizResult } from './QuizResult'\n\ntype Props = { lang: string }\n\ntype State = {\n  questions: Question[]\n  currentQuestion: Question | null\n  currentQuestionNumber: number\n  choices: Choices | null\n  answers: Answer[]\n  lang: string\n}\n\nexport class Quiz extends Component<Props, State> {\n  state: State = {\n    questions: [],\n    currentQuestion: null,\n    currentQuestionNumber: 0,\n    choices: null,\n    answers: [],\n    lang: 'en',\n  }\n\n  constructor(props: Props) {\n    super(props)\n    this.onAnswer = this.onAnswer.bind(this)\n  }\n\n  componentDidMount() {\n    this.initQuestionsAndAnswers(this.props.lang)\n  }\n\n  componentDidUpdate() {\n    if (this.state.lang === this.props.lang) {\n      return\n    }\n    this.setState({ lang: this.props.lang })\n    this.initQuestionsAndAnswers(this.props.lang)\n  }\n\n  onAnswer(choice: Choice) {\n    this.setState((state, props) => {\n      return {\n        currentQuestionNumber: state.currentQuestionNumber + 1,\n        currentQuestion: state.questions[state.currentQuestionNumber + 1],\n        answers: state.answers.concat([\n          new Answer(\n            state.currentQuestion!.domain,\n            state.currentQuestion!.facet,\n            choice.score\n          ),\n        ]),\n      }\n    })\n  }\n\n  render() {\n    if (\n      this.state.currentQuestionNumber &&\n      this.state.questions.length &&\n      this.state.currentQuestionNumber >= this.state.questions.length\n    ) {\n      return (\n        <QuizResult\n          answers={this.state.answers}\n          lang={this.props.lang}\n          key={this.props.lang} // Re-mount when language is changed\n        />\n      )\n    }\n\n    if (\n      !this.state.choices ||\n      !this.state.questions.length ||\n      !this.state.currentQuestion\n    ) {\n      return <Loading></Loading>\n    }\n\n    let currentChoices = this.state.choices[this.state.currentQuestion.keyed]\n\n    return (\n      <QuestionCard\n        question={this.state.currentQuestion}\n        choices={currentChoices}\n        onAnswer={this.onAnswer}\n        number={this.state.currentQuestionNumber + 1}\n        totalNumber={this.state.questions.length}\n      ></QuestionCard>\n    )\n  }\n\n  private initQuestionsAndAnswers(lang: string) {\n    getQuestions(lang).then((res) =>\n      this.setState((state, props) => ({\n        questions: res, //.slice(0, 5),\n        currentQuestion: res[state.currentQuestionNumber],\n      }))\n    )\n    getChoices(lang).then((res) => this.setState({ choices: res }))\n  }\n}\n","import { proxy } from 'valtio'\nimport { Page } from './types'\n\ntype CommonState = {\n  lang: string\n  page?: Page\n}\n\nconst stateObject: CommonState = {\n  lang: process.env.REACT_APP_DEFAULT_LANG || 'en',\n  page: undefined,\n}\n\nexport const state = proxy(stateObject)\n","import { Page as PageType } from '../types'\n\n// Full trust to source of the page conten (it has html)\nexport function Page({ page }: { page: PageType }) {\n  return (\n    <div className=\"px-4 py-12 mx-auto max-w-7xl card page\">\n      <h1 className=\"text-4xl text-center pb-10 font-bold\">{page.title}</h1>\n      <div\n        className=\"content\"\n        dangerouslySetInnerHTML={{ __html: page.html }}\n      />\n    </div>\n  )\n}\n","import { useSnapshot } from 'valtio'\nimport './App.css'\nimport { Quiz } from './components/Quiz'\nimport { state } from './state'\nimport { Page } from './components/Page'\n\ntype Props = {\n  lang?: string\n}\n\nexport function App(props: Props) {\n  const snap = useSnapshot(state)\n  if (snap.page) {\n    return <Page page={snap.page} />\n  }\n\n  return <Quiz lang={snap.lang}></Quiz>\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export type Languages = { [code: string]: string }\nexport const languages: Languages = {\n  en: 'English',\n  ru: 'Русский',\n  uk: 'Українська',\n}\n","import { state } from '../state'\nimport { useSnapshot } from 'valtio'\nimport { languages } from '../languages'\n\nexport function SelectLanguage() {\n  const snap = useSnapshot(state)\n  return (\n    <select\n      className=\"form-select mx-auto\"\n      value={snap.lang}\n      onChange={(e) => (state.lang = e.target.value)}\n    >\n      {Object.keys(languages).map((code) => {\n        return (\n          <option key={code} value={code}>\n            {languages[code]}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/logo.c41a7299.svg\";","import {\n  Page,\n  TelegraphApiNodeElement,\n  TelegraphApiPageResponse,\n} from '../types'\n\n// TODO Use transport\nexport async function getTelegraphPage(url: string): Promise<Page> {\n  url = url.replace('https://telegra.ph/', 'https://api.telegra.ph/getPage/')\n\n  const pageResponse: TelegraphApiPageResponse = (await (\n    await fetch(url + '?return_content=true')\n  ).json()) as TelegraphApiPageResponse\n\n  return new Page(\n    pageResponse.result.title,\n    pageContentToString({ tag: 'div', children: pageResponse.result.content })\n  )\n}\n\nfunction pageContentToString(pageContent: TelegraphApiNodeElement): string {\n  const doc = document.createElement(pageContent.tag, pageContent.attrs)\n\n  if (pageContent.children && pageContent.children.length > 0) {\n    let contentParst: string[] = []\n    for (let child of pageContent.children) {\n      contentParst.push(\n        typeof child === 'string' ? child : pageContentToString(child)\n      )\n    }\n    doc.innerHTML = contentParst.join('\\n')\n  }\n\n  return doc.outerHTML\n}\n","import React, { MouseEvent } from 'react'\nimport { getTelegraphPage } from '../api/ApiPages'\nimport { state } from '../state'\nimport { PageLinks } from '../types'\n\n// TODO Unharcode\nconst termPages: PageLinks[] = [\n  { title: 'Terms', url: 'https://telegra.ph/Terms-and-Conditions-11-23' },\n  { title: 'Privacy', url: 'https://telegra.ph/Privacy-Policy-11-23-13' },\n]\n\nexport function Footer() {\n  return (\n    <footer className=\"px-4 py-12 mx-auto max-w-7xl\">\n      <div className=\"flex flex-col items-start justify-between pt-10 mt-10 border-t border-gray-100 md:flex-row md:items-center\">\n        <p className=\"mb-6 text-sm text-left text-gray-600 md:mb-0\">\n          © Copyright {new Date().getFullYear()}{' '}\n          <a href=\"https://github.com/lis-dev\">lis-dev</a>\n        </p>\n        <div className=\"flex items-start justify-start space-x-6 md:items-center md:justify-center\">\n          {termPages.map((link) => (\n            <a\n              key={link.title}\n              onClick={(e) => {\n                goToPage(e)\n              }}\n              href={link.url}\n              className=\"text-sm text-gray-600 transition hover:text-primary\"\n            >\n              {link.title}\n            </a>\n          ))}\n        </div>\n      </div>\n    </footer>\n  )\n}\nasync function goToPage(e: MouseEvent) {\n  e.preventDefault()\n  const href = (e.target as any).getAttribute('href')\n  state.page = await getTelegraphPage(href)\n}\n","import { SelectLanguage } from './SelectLanguage'\nimport logo from '../logo.svg'\nimport { Footer } from './Footer'\n\nexport function Base(props: { children: any }) {\n  return (\n    <section className=\"min-h-screen bg-gray-50\">\n      <header className=\"sticky top-0 bg-white shadow z-10\">\n        <div className=\"flex justify-between p-4 mx-auto max-w-7xl\">\n          <a\n            href=\"/\"\n            className=\"flex items-center text-2xl items-center min-w-100 space-x-4 text-purple-900\"\n          >\n            <img src={logo} alt=\"logo\" className=\"w-12 h-12\" />\n            <span className=\"hidden md:inline\">\n              The Big Five Personality Test\n            </span>\n          </a>\n          <div className=\"flex flex-row\">\n            <SelectLanguage />\n          </div>\n        </div>\n      </header>\n      <main className=\"p-4 mx-auto max-w-7xl\">{props.children}</main>\n      <Footer />\n    </section>\n  )\n}\n","import React from 'react'\n\nexport class ErrorBoundary extends React.Component {\n  state = {\n    hasError: false,\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    logErrorToMyService(error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <h1 className=\"text-center text-bold text-4xl card p-10\">\n          Something went wrong. Try to reload this page.\n        </h1>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nfunction logErrorToMyService(error: any, errorInfo: any) {\n  console.error(error, errorInfo)\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { Base } from './components/Base'\nimport { ErrorBoundary } from './components/ErrorBoundary'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Base>\n      <ErrorBoundary>\n        <App />\n      </ErrorBoundary>\n    </Base>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}